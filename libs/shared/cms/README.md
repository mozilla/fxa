# shared-cms

This library was generated with [Nx](https://nx.dev).

It serves as a client for communicating with the CMS GraphQL API, and supports strongly typed queries via codegen. See the codegen section for more information about how to manage typings.

## Building

Run `nx build shared-cms` to build the library.

## GraphQL CodeGen

This library has a set of typings that are generated by GraphQL codegen. You can find them within `src/__generated__`. These types should not be modified manually, but rather updated via the codegen command present in this library.

You can update the generated types from the Nx GraphQL API via:

`nx run shared-cms:codegen`

To run codegen, you will need to have the following two parameters present in your .env file:

1. `STRAPI_CLIENT_CONFIG__GRAPHQL_API_URI`
2. `STRAPI_CLIENT_CONFIG__API_KEY`

Running codegen can be done at any time, though it's most important to do so after the CMS schema has been updated, or when adding a new query/mutation to the project. Types for queries or mutations are automatically generated by the codegen client, so that they match the associated types from the CMS.

## Running unit tests

Run `nx test shared-cms` to execute the unit tests via [Jest](https://jestjs.io).
