---
# Schema
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

event:
  name:
    type: string
    description: |
      The name of the event
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

account:
  user_id_sha256:
    type: string
    description: |
      A hex string of a sha256 hash of the account's uid
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - interaction

relying_party:
  service:
    type: string
    description: |
      The service name of the relying party
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - technical

  oauth_client_id:
    type: string
    description: |
      The client id of the relying party
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - technical

session:
  flow_id:
    type: string
    description: an ID generated by FxA for its flow metrics
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

  device_type:
    type: string
    description: one of 'mobile', 'tablet', or 'desktop'
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - technical

  entrypoint:
    type: string
    description: entrypoint to the service
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

utm:
  campaign:
    description: UTM campaign
    type: string
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

  content:
    description: UTM content
    type: string
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

  medium:
    description: UTM medium
    type: string
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

  source:
    description: UTM source
    type: string
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity

  term:
    description: UTM term
    type: string
    lifetime: ping
    send_in_pings:
      - accounts-events
    notification_emails:
      - fxa-staff@mozilla.com
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXA-7265
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1830504
    expires: never
    data_sensitivity:
      - web_activity
